# Salt Master Configuration
# Этот файл будет скопирован в /etc/salt/master

# Network settings
interface: 0.0.0.0
publish_port: 4505
ret_port: 4506

# File roots
file_roots:
  base:
    - /srv/salt

# Pillar roots
pillar_roots:
  base:
    - /srv/pillar

# Auto accept minions (для тестирования)
# В продакшене лучше отключить и принимать ключи вручную
auto_accept: True

# Logging
log_level: info
log_file: /var/log/salt/master
log_file_log_level: info

# Worker threads
worker_threads: 5

# Timeout
timeout: 60

# REST API для SaltGUI
rest_cherrypy:
  port: 8000
  host: 0.0.0.0
  disable_ssl: true
  webhook_url: /hook

# External authentication для REST API
# Используем системного пользователя ubuntu для аутентификации
external_auth:
  pam:
    ubuntu:
      - .*
      - '@runner'
      - '@wheel'
      - '@jobs'

